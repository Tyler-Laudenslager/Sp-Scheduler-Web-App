{{ define "session-content" }}
<div class="vstack gap-2 d-flex align-items-center position: relative;">
    {{ range .SessionsUnmanaged }}
    <div class="card" style="width: 40rem; background-color: #f7f8f7;">
        <div class="card-body">
            <div class="vstack me-2 gap-1 d-flex align-items-center position-absolute top-50 end-0 translate-middle-y">
                <button type="button" class="btn btn-outline-primary position: relative" data-bs-toggle="modal" data-bs-target="#{{ .Information.Title | formatTitle }}info">
                    Additional Information
                </button>
                <button type="button" class="btn btn-outline-primary position: relative" data-bs-toggle="modal" data-bs-target="#{{ .Information.Title | formatTitle }}edit">
                    Edit Info
                </button>
                <button type="button" class="btn btn-outline-primary position: relative" data-bs-toggle="modal" data-bs-target="#{{ .Information.Title | formatTitle}}assignsp">Assign SPs</button>
                <button type="button" class="btn btn-outline-danger position: relative" data-bs-toggle="modal" data-bs-target="#{{ .Information.Title | formatTitle }}delete">
                    Delete
                    <svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" fill="currentColor" class="bi bi-x" viewBox="0 0 16 16">
                        <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"></path>
                    </svg>
                </button>
            </div>
            <h5 class="card-text">Date: {{ .Information.Date }}</h5>
            <h5 class="card-text">Title: {{ .Information.Title }}</h5>
            <h5 class="card-text">Start Time: {{ .Information.StartTime }}</h5>
            <h5 class="card-text">End Time: {{ .Information.EndTime }}</h5>
            <h5 class="card-text">Location: {{ .Information.Location }}</h5>
            <h5 class="card-text">SPs Needed: {{ .PatientsNeeded }}</h5>
        </div>
    </div>
    <div class="modal" id="{{ .Information.Title | formatTitle }}edit">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
      
            <!-- Modal Header -->
                <div class="modal-header">
                    <h4 class="modal-title">Edit Session Information</h4>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
      
            <!-- Modal body -->
                <div class="modal-body">
                    <form action="/updatesession" method="post" enctype="application/x-www-form-urlencoded">
                        <input type="hidden" name="title" value="{{ .Information.Title }}">
                        <input type="hidden" name="date" value="{{ .Information.Date }}">
                        <input type="hidden" name="starttime" value="{{ .Information.StartTime }}">
                        <input type="hidden" name="endtime" value="{{ .Information.EndTime }}">
                        <input type="hidden" name="location" value="{{ .Information.Location }}">
                        <input type="hidden" name="description" value="{{ .Information.Description }}">

                    <div class="form-floating mb-2">
                        <input type="text" name="newtitle" class="form-control" value="{{ .Information.Title }}">
                        <label for="floatingInput">Title</label>
                    </div>
                    <div class="form-floating mb-2">
                        <input type="text" name="newdate" class="form-control" value="{{ .Information.Date }}">
                        <label for="floatingInput">Date</label>
                    </div>
                    <div class="form-floating mb-2">
                        <input type="text" name="newstarttime" class="form-control" value="{{ .Information.StartTime }}">
                        <label for="floatingInput">Start Time</label>
                    </div>
                    <div class="form-floating mb-2">
                        <input type="text" name="newendtime" class="form-control" value="{{ .Information.EndTime }}">
                        <label for="floatingInput">End Time</label>
                    </div>
                    <div class="form-floating mb-2">
                        <input type="text" name="newlocation" class="form-control" value="{{ .Information.Location }}">
                        <label for="floatingInput">Location</label>
                    </div>
                    <div class="form-floating mb-2">
                        <input type="text" name="newpatientsneeded" class="form-control" value="{{ .PatientsNeeded }}">
                        <label for="floatingInput">SPs Needed : {{ .PatientsNeeded }}</label>
                    </div>
                    <div class="form-floating mb-2">
                        <input type="text" name="newdescription" class="form-control" value="{{ .Information.Description }}">
                        <label for="floatingInput">Description : {{ .Information.Description }}</label>
                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-outline-success" data-bs-dismiss="modal">Update</button>
                    </div>
                </form>
                </div>
            </div>
        </div>
    </div>
    <div class="modal" id="{{ .Information.Title | formatTitle }}info">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
        
              <!-- Modal Header -->
                <div class="modal-header">
                    <h4 class="modal-title">Session Information</h4>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
        
              <!-- Modal body -->
                <div class="modal-body">
                    <h5>Date : {{ .Information.Date }}</h5>
                    <h5>Title : {{ .Information.Title }}</h5>
                    <h5>Start Time : {{ .Information.StartTime }}</h5>
                    <h5>End Time : {{ .Information.EndTime }}</h5>
                    <h5>Location : {{ .Information.Location }}</h5>
                    <h5>Description : </h5>
                    <p>{{ .Information.Description }}</p>
                    <h5>SPs Needed : {{ .PatientsNeeded }}</h5>
                    <h5>Instructors : </h5>
                    {{ range .Instructors }}
                        <h6>&emsp;{{ .Name.First }} {{ .Name.Last }}</h6>
                    {{ end }}
                </div>
  
                <div class="modal-footer">
                    <button type="submit" class="btn btn-outline-danger" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal" id="{{ .Information.Title | formatTitle }}delete">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
        
              <!-- Modal Header -->
                <div class="modal-header">
                    <h4 class="modal-title">Confirm Deletion of Session</h4>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
        
              <!-- Modal body -->
                <div class="modal-body">
                    <form action="/deletesession" method="post" enctype="application/x-www-form-urlencoded">
                        <input type="hidden" name="title" value="{{ .Information.Title }}">
                        <input type="hidden" name="date" value="{{ .Information.Date }}">
                        <input type="hidden" name="starttime" value="{{ .Information.StartTime }}">
                        <input type="hidden" name="endtime" value="{{ .Information.EndTime }}">
                        <input type="hidden" name="location" value="{{ .Information.Location }}">
                        <input type="hidden" name="description" value="{{ .Information.Description }}">
                        <button type="submit" class="btn btn-outline-danger" data-bs-dismiss="modal">Yes</button>
                        <button type="button" class="btn btn-outline-primary" data-bs-dismiss="modal">No</button>
                    </form>
                </div>
              
            </div>
        </div>
    </div>
    <div class="modal" id="{{ .Information.Title | formatTitle }}assignsp">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
        
              <!-- Modal Header -->
                <div class="modal-header">
                    <h4 class="modal-title">Assign SPs to Session</h4>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
        
              <!-- Modal body -->
                <div class="modal-body">
                    <form action="/assignsp" method="post" enctype="application/x-www-form-urlencoded">
                        <input type="hidden" name="title" value="{{ .Information.Title }}">
                        <input type="hidden" name="date" value="{{ .Information.Date }}">
                        <input type="hidden" name="starttime" value="{{ .Information.StartTime }}">
                        <input type="hidden" name="endtime" value="{{ .Information.EndTime }}">
                        <input type="hidden" name="location" value="{{ .Information.Location }}">
                        <input type="hidden" name="description" value="{{ .Information.Description }}">
                        {{ range .PatientsAvailable }}
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" name="{{ .Username }}" value="true" id="flexCheckDefault">
                            <label class="form-check-label" for="flexCheckDefault">
                                {{ .Name.First }} {{ .Name.Last }}
                            </label>
                        </div>
                        {{ end }}
                        <div class="modal-footer">
                            <button type="submit" class="btn btn-outline-primary" data-bs-dismiss="modal">Assign SPs</button>
                        </div>
                    </form>
                </div>
              
            </div>
        </div>
    </div>
    {{ end }}
</div>
{{ end }}
